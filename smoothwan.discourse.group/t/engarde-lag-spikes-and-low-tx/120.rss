<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Engarde - Lag spikes and low TX</title>
    <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120</link>
    <description>Hello,

I am experiencing lag spikes in online games only when using engarde. The nature of lag spikes is such that sometimes my ping shoots up and keeps on increasing until it either returns to normal within few seconds or I get disconnected. 

I have tried using each of my internet separately to isolate any issues, however the lag issue remains. This issue is persistent as long as I am using engarde with either single or dual internets. It never happens with normal WireGuard in SmoothWAN. So this is clearly something related to engarde (client or server side settings).

Further, I noticed that the &quot;TX&quot; data usage is very low as shown in SmoothWAN, for example:
RX: 31.59 GB (27575987 Pkts.)
TX: 3.59 GB (23370358 Pkts.) 

In my limited knowledge, I had thought maybe it&#39;s something to do with MTU or &#39;keep persistent = 25&#39; settings but changing it didn&#39;t seem to have an effect - I&#39;m not sure.

Could any of this information give a clue about what&#39;s happening?</description>
    
    <lastBuildDate>Sat, 02 Mar 2024 20:44:06 +0000</lastBuildDate>
    <category>Help</category>
    <atom:link href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[anon83253404]]></dc:creator>
        <description><![CDATA[
            <p>Hi Talal, I’ve experimented a lot in terms of MTU and SQM but that didn’t work. Interestingly I’ve noticed that when I run wireguard on my PC connected to the router that has engarde, basically VPN on VPN, then I don’t see these issues anymore. Does this give any clue as to what’s happening?</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/10">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/10</link>
        <pubDate>Sat, 02 Mar 2024 20:44:06 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-10</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[TalalM]]></dc:creator>
        <description><![CDATA[
            <p>It may be worth check other server, as well as reducing the MTU to 1280 in case it’s a firewall issue.<br>
This assumes that the spikes are caused by any large network activity.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/9">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/9</link>
        <pubDate>Tue, 06 Feb 2024 01:49:44 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-9</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[anon83253404]]></dc:creator>
        <description><![CDATA[
            <p>One is 15 Mpbs and the other is 50 Mbps. I have tried limiting speeds or SQM to equal or lower of the two but didn’t make any difference.</p>
<p>I think it’s important to mention the engarde server is located a bit far (ping: 140ms). Its normal and consistent for this distance. Its only the occasional random lag spikes, or caused by certain actions in game, that result in disconnect or cause rubberbanding in game (only when using engarde). Ping also increases when downloading.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/8">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/8</link>
        <pubDate>Wed, 31 Jan 2024 20:41:27 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-8</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[TalalM]]></dc:creator>
        <description><![CDATA[
            <p>What are your connection speeds?<br>
You may need a PC for 100Mbit with Engarde.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/7">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/7</link>
        <pubDate>Wed, 31 Jan 2024 20:20:06 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-7</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[anon83253404]]></dc:creator>
        <description><![CDATA[
            <p>I’ve tried SQM to limit each WAN as well as fq_codel. But this had no noticeable effects. I also tried SQM on LAN which did seem to improve ping / spikes somewhat, but the problem is definitely there. I think the problem is packet loss. I’m using Raspberry Pi 4.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/6">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/6</link>
        <pubDate>Wed, 31 Jan 2024 19:25:29 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-6</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[TalalM]]></dc:creator>
        <description><![CDATA[
            <p>Have you tried using SQM to limit each WAN? (not SQM on wireguard)<br>
Do note that if the fastest connection has high latency, the slower won’t reduce it.<br>
For gaming I recommend setting all WANs speed in SQM to 10% less than the slowest WAN.<br>
Use fq_codel if used on off-the-shelf router due to CPU time.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/5">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/5</link>
        <pubDate>Fri, 19 Jan 2024 22:18:18 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-5</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[anon83253404]]></dc:creator>
        <description><![CDATA[
            <p>I really appreciate it! I’ve set writeTimeout to 1000 and clientTimeout to 30 that eliminated the lag spike so far. But I still experience gaming lag with Engarde, even when the ping isn’t fluctuating, as opposed to a stable single WireGuard connection. Do you think the gap between RX and TX causes lag?</p>
<p>RX: 34.65 GB (32934957 Pkts.)<br>
TX: 11.03 GB (25936582 Pkts.)</p>
<p>Also, I note that it mostly causes ping/lag issue when it’s downloading. Both internets have sufficient bandwidths and don’t display this behaviour when using single WireGuard connection.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/4">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/4</link>
        <pubDate>Fri, 19 Jan 2024 19:11:20 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-4</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[TalalM]]></dc:creator>
        <description><![CDATA[
            <p>This may need to be set (writeTimeout and client): <a href="https://github.com/porech/engarde/blob/cf9b487167c826cbdcfa2fa6ae39d04fac5e9ba0/engarde.yml.sample#L47" class="inline-onebox">engarde/engarde.yml.sample at cf9b487167c826cbdcfa2fa6ae39d04fac5e9ba0 · porech/engarde · GitHub</a></p>
<p>You can fork SmoothWAN-docs repo, make the change then update the cloud-init script to point to your fork.</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/2">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/2</link>
        <pubDate>Tue, 16 Jan 2024 00:48:36 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-2</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
      <item>
        <title>Engarde - Lag spikes and low TX</title>
        <dc:creator><![CDATA[anon83253404]]></dc:creator>
        <description><![CDATA[
            <p>Hello,</p>
<p>I am experiencing lag spikes in online games only when using engarde. The nature of lag spikes is such that sometimes my ping shoots up and keeps on increasing until it either returns to normal within few seconds or I get disconnected.</p>
<p>I have tried using each of my internet separately to isolate any issues, however the lag issue remains. This issue is persistent as long as I am using engarde with either single or dual internets. It never happens with normal WireGuard in SmoothWAN. So this is clearly something related to engarde (client or server side settings).</p>
<p>Further, I noticed that the “TX” data usage is very low as shown in SmoothWAN, for example:<br>
RX: 31.59 GB (27575987 Pkts.)<br>
TX: 3.59 GB (23370358 Pkts.)</p>
<p>In my limited knowledge, I had thought maybe it’s something to do with MTU or ‘keep persistent = 25’ settings but changing it didn’t seem to have an effect - I’m not sure.</p>
<p>Could any of this information give a clue about what’s happening?</p>
          <p><a href="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/1">Read full topic</a></p>
        ]]></description>
        <link>https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120/1</link>
        <pubDate>Tue, 16 Jan 2024 00:05:38 +0000</pubDate>
        <guid isPermaLink="false">smoothwan.discourse.group-post-120-1</guid>
        <source url="https://smoothwan.discourse.group/t/engarde-lag-spikes-and-low-tx/120.rss">Engarde - Lag spikes and low TX</source>
      </item>
  </channel>
</rss>
